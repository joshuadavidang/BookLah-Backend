_format_version: "2.1"
_transform: true


services:
  - name: auth_service
    url: http://auth_service:3001/
    routes:
      - name: get_auth_url_route
        paths:
          - /api/v1/getAuthUrl
      - name: get_user_data_route
        paths:
          - /api/v1/getUserData
      - name: save_user_info_route
        paths:
          - /api/v1/saveUserInformation
        strip_path: true

  - name: concert_service
    url: http://concert_service:5002/
    routes:
      - name: get_concerts_route
        paths:
          - /api/v1/getConcerts

      - name: get_a_concert_route
        paths:
          - /api/v1/getConcert/<string:concert_id>

      - name: get_admin_created_concert_route
        paths:
          - /api/v1/getAdminCreatedConcert/<string:userId>

      - name: update_concert_availability_route
        paths:
          - /api/v1/updateConcertAvailability/<string:concert_id>

      - name: update_concert_details_route
        paths:
          - /api/v1/updateConcertDetails/<string:concert_id>
        strip_path: true

  - name: payment_service
    url: http://payment_service:5006/
    routes:
      - name: config_payment_route
        paths:
          - /api/v1/config

      - name: get_customer_data_route
        paths:
          - /api/v1/getCustomerData

      - name: create_payment_intent_route
        paths:
          - /api/v1/create_payment_intent
        strip_path: true

  - name: forum_service
    url: http://forum_service:5007
    routes:
      - name: add_post_route
        paths:
          - /api/v1/api/v1/addPost

      - name: get_posts_route
        paths:
          - /api/v1/api/v1/getPosts

      - name: get_post_route
        paths:
          - /api/v1/api/v1/getPost

      - name: add_comments_route
        paths:
          - /api/v1/api/v1/addComments

      - name: get_comments_route
        paths:
          - /api/v1/api/v1/getComments
        strip_path: true

  - name: booking_service
    url: http://booking_service:5001
    routes:
      - name: get_bookings_route
        paths:
          - /api/v1/get_bookings

      - name: get_a_booking_route
        paths:
          - /api/v1/get_booking/<string:booking_id>
        strip_path: true

  - name: book_concert
    url: http://book_concert_microservice:5100
    routes:
      - name: book_concert_route
        paths: 
          - /api/v1/book_concert
        strip_path: true

  - name: cancel_booking
  url: http://cancel_booking_microservice:5200
  routes:
    - name: cancel_booking_route
      paths: 
        - /api/v1/cancel_concert
      strip_path: true

  - name: forum_complex
  url: http://forum_complex_microservice:5300
  routes:
    - name: get_forum_route
      paths: 
        - /api/v1/get_forum
      strip_path: true
  
    - name: create_concert
  url: http://create_concert_microservice:5400
  routes:
    - name: create_concert_route
      paths: 
        - /api/v1/create_concert
      strip_path: true
